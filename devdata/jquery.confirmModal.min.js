/*!
 * jQuery.confirmModal v1.0
 * Copyright (c) 2018 Trim C.
 * Released under the MIT license
 * Description : simple to use plugin replacing the browser's default confirm box with bootstrap 4 modal
 */
(function(a){$currentModalTarget={};$defaultsConfirmModal={};jQuery.confirmModal=function(n,o,l){var h=document.activeElement;var f=a.extend({},$defaultsConfirmModal,o);if(f===undefined){var c="auto";var m="";var k="";var j="OK";var d="Cancel"}else{if($defaultsConfirmModal.confirmButton===undefined){var j="OK"}else{var j=$defaultsConfirmModal.confirmButton}if($defaultsConfirmModal.cancelButton===undefined){var d="Cancel"}else{var d=$defaultsConfirmModal.cancelButton}if(f.modalBoxWidth===undefined){var c="auto"}else{var c=f.modalBoxWidth}if(f.modalVerticalCenter===undefined||f.modalVerticalCenter===false){var m=""}else{var m="modal-dialog-centered"}if(f.messageHeader===undefined||f.messageHeader===""){var i=" "}else{var i=f.messageHeader}if(f.fadeAnimation===undefined||f.fadeAnimation===false){var k=""}else{var k="fade"}if(f.backgroundBlur===true){a(".container").attr("style","-webkit-filter: blur(0.1rem); -moz-filter: blur(0.1rem);	-o-filter: blur(0.1rem); -ms-filter: blur(0.1rem); filter: blur(0.1rem);");a(document).one("hide.bs.modal",".modalConfirm",function(){a(".container").removeAttr("style")})}else{if(typeof(f.backgroundBlur)==="object"){if(f.backgroundBlur.length===2){var e=f.backgroundBlur[1]}else{var e="0.1rem"}var b=f.backgroundBlur[0];a(b).attr("style","-webkit-filter: blur("+e+"); -moz-filter: blur("+e+"); -o-filter: blur("+e+"); -ms-filter: blur("+e+"); filter: blur("+e+");");a(document).one("hide.bs.modal",".modalConfirm",function(){a(b).removeAttr("style")})}}if(f.autoFocusOnConfirmBtn===true){a(document).one("shown.bs.modal",".modalConfirm",function(){a(".confirmButton").focus()})}}var g='<div style="z-index: 5000;" class="modal '+k+' modalConfirm" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true"><div style="max-width: '+c+';" class="modal-dialog '+m+'" role="document"><div class="modal-content"><div style="padding: 0.6rem" class="modal-header"><h6 class="modal-title">'+i+'</h6><button type="button" style="padding: 0.45rem 0.8rem;" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button></div><div style="padding: 0.8rem; font-size: 0.9rem;" class="modal-body text-break">'+n+'</div><div style="padding: 0.55rem; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;" class="modal-footer"><button type="button" style="'+(j==="OK"?"width: 66px;":"")+' padding: .18rem .5rem;" class="confirmButton btn btn-primary btn-sm">'+j+'</button><button type="button" style="'+(d==="Cancel"?"width: 66px;":"")+' padding: .18rem .5rem;" class="btn btn-secondary btn-sm" data-dismiss="modal">'+d+"</button></div></div></div></div>";if(a.isEmptyObject($currentModalTarget)){$currentModalTarget=h;a("body").prepend(g);a(".modalConfirm").modal("show");a(".confirmButton").on("click",function(p){p.preventDefault();a(".modalConfirm").modal("hide");if(typeof(l)==="function"){l(h)}else{o(h)}})}else{if($currentModalTarget.className!=h.className){a("body > div.modalConfirm").remove();$currentModalTarget=h;a("body").prepend(g);a(".modalConfirm").modal("show");a(".confirmButton").off("click");a(".confirmButton").on("click",function(p){p.preventDefault();a(".modalConfirm").modal("hide");if(typeof(l)==="function"){l(h)}else{o(h)}})}else{if(h!=$currentModalTarget){$currentModalTarget=h;a(".modalConfirm").modal("show");a(".confirmButton").off("click");a(".confirmButton").on("click",function(p){p.preventDefault();a(".modalConfirm").modal("hide");if(typeof(l)==="function"){l(h)}else{o(h)}})}else{a(".modalConfirm").modal("show")}}}}}(jQuery));
